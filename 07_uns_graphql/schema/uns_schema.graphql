"""
Represents binary data as Base64-encoded strings, using the standard alphabet.
"""
scalar Base64 @specifiedBy(url: "https://datatracker.ietf.org/doc/html/rfc4648.html#section-4")

type BytesPayload {
  data: Base64!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

type JSONPayload {
  data: JSON!
}

union JSONPayloadBytesPayload = JSONPayload | BytesPayload

input KAFKATopicInput {
  topic: String!
}

input MQTTTopicInput {
  topic: String!
}

type Query {
  resolveAllTopics: [UNSNode!]!
  resolveSpecificTopics(topics: [String!]!): [UNSNode!]!
}

type Subscription {
  getMqttMessages(topics: [MQTTTopicInput!]!): UNSEvent!
  kafkaMessages(topics: [KAFKATopicInput!]!): UNSEvent!
}

type UNSEvent {
  topic: String!
  payload: JSONPayloadBytesPayload!
}

type UNSNode {
  nodeName: String!
  nodeType: String!
  namespace: String!
  payload: JSONPayload!
  created: Int!
  lastUpdated: Int!
}